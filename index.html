<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Tổng hợp bài tập ôn Access 4</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    :root {
      --primary: #0f4c81;
      --text: #1f2937;
      --muted: #6b7280;
      --border: #e5e7eb;
      --bg: #f3f4f6;
      --card: #ffffff;
      --tooltip-bg: #ffffff;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: "Segoe UI", Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
    }

    header {
      background: var(--card);
      border-bottom: 1px solid var(--border);
      padding: 20px 0;
    }

    .header-inner {
      max-width: 1100px;
      margin: auto;
      padding: 0 24px;
    }

    h1 {
      margin: 0;
      font-size: 24px;
      font-weight: 600;
    }

    .subtitle {
      color: var(--muted);
      margin-top: 6px;
      font-size: 14px;
    }

    main {
      max-width: 1100px;
      margin: 40px auto;
      padding: 0 24px;
    }

    /* 2 hàng – mỗi hàng 5 card */
    .modules {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 20px;
    }

    details {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 16px 18px;
      transition: box-shadow 0.2s;
      position: relative;
    }

    details:hover {
      box-shadow: 0 6px 20px rgba(0,0,0,0.06);
    }

    summary {
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      list-style: none;
      position: relative;
      z-index: 20;
    }

    summary::-webkit-details-marker { display: none; }

    summary::after {
      content: "▸";
      float: right;
      color: var(--muted);
      transition: transform 0.2s;
    }

    details[open] summary::after {
      transform: rotate(90deg);
    }

    ul {
      margin-top: 14px;
      padding-left: 18px;
      background: var(--card);
      position: relative;
      z-index: 20;
    }

    li {
      margin: 8px 0;
      font-size: 14px;
    }

    a {
      text-decoration: none;
      color: var(--primary);
      cursor: pointer;
      transition: color 0.2s;
    }

    a:hover { 
      text-decoration: underline;
      color: #1e7e9c;
    }

    footer {
      text-align: center;
      padding: 30px 0;
      color: var(--muted);
      font-size: 13px;
    }

    /* TOOLTIP HOVER */
    .hover-info {
      position: absolute;
      top: -10px;
      left: 105%;
      width: 260px;
      background: var(--tooltip-bg);
      border: 1px solid var(--border);
      padding: 14px;
      border-radius: 8px;
      font-size: 13px;
      color: var(--text);
      display: none;
      z-index: 999;
      box-shadow: 0 8px 25px rgba(0,0,0,0.12);
    }

    details:hover .hover-info {
      display: block;
    }

    .hover-title {
      font-weight: bold;
      margin-bottom: 4px;
      color: var(--primary);
    }

    .hover-block { margin-bottom: 10px; }

    /* Notification */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--primary);
      color: white;
      padding: 12px 20px;
      border-radius: 6px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      display: none;
      z-index: 1000;
    }

    .notification.show {
      display: block;
      animation: slideIn 0.3s ease;
    }

    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
  </style>
</head>

<body>

<header>
  <div class="header-inner">
    <h1>Tổng hợp bài tập ôn Access 4</h1>
    <div class="subtitle">Hệ thống bài luyện tập theo Module - Mở cửa sổ mới</div>
  </div>
</header>

<main>

  <section class="modules">

    <!-- ===== MODULE 1 ===== -->
    <details>
      <summary>Module 1</summary>
      <div class="hover-info">
        <div class="hover-block">
          <div class="hover-title">Grammar</div>
          Simple present, Present continuous, Infinitive & -ing, Phrasal verbs (come)
        </div>
        <div class="hover-block">
          <div class="hover-title">Vocabulary</div>
          Body language, Character adjectives, Forming adjectives
        </div>
      </div>
      <ul>
        <li><a onclick="openNewWindow('1a.html')">Module 1a</a></li>
        <li><a onclick="openNewWindow('1b.html')">Module 1b</a></li>
        <li><a onclick="openNewWindow('1c.html')">Module 1c</a></li>
      </ul>
    </details>

    <!-- ===== MODULE 2 ===== -->
    <details>
      <summary>Module 2</summary>
      <div class="hover-info">
        <div class="hover-block">
          <div class="hover-title">Grammar</div>
          Past simple, Past continuous, Object questions, Used to/would, Phrasal verbs (turn)
        </div>
        <div class="hover-block">
          <div class="hover-title">Vocabulary</div>
          Inventions, Jobs, Noun formation
        </div>
      </div>
      <ul>
        <li><a onclick="openNewWindow('2a.html')">Module 2a</a></li>
        <li><a onclick="openNewWindow('2b.html')">Module 2b</a></li>
        <li><a onclick="openNewWindow('2c.html')">Module 2c</a></li>
      </ul>
    </details>

    <!-- ===== MODULE 3 ===== -->
    <details>
      <summary>Module 3</summary>
      <div class="hover-info">
        <div class="hover-block">
          <div class="hover-title">Grammar</div>
          Present perfect, Present continuous, Wh- questions, Phrasal verbs (go)
        </div>
        <div class="hover-block">
          <div class="hover-title">Vocabulary</div>
          Food, Utensils, Stores, Forming verbs
        </div>
      </div>
      <ul>
        <li><a onclick="openNewWindow('3a.html')">Module 3a</a></li>
        <li><a onclick="openNewWindow('3b.html')">Module 3b</a></li>
        <li><a onclick="openNewWindow('3c.html')">Module 3c</a></li>
      </ul>
    </details>

    <!-- ===== MODULE 4 ===== -->
    <details>
      <summary>Module 4</summary>
      <div class="hover-info">
        <div class="hover-block">
          <div class="hover-title">Grammar</div>
          Comparative & superlative, So/such, Too/enough, Phrasal verbs (put)
        </div>
        <div class="hover-block">
          <div class="hover-title">Vocabulary</div>
          Appearance, Clothes, Opposites
        </div>
      </div>
      <ul>
        <li><a onclick="openNewWindow('4a.html')">Module 4a</a></li>
        <li><a onclick="openNewWindow('4b.html')">Module 4b</a></li>
        <li><a onclick="openNewWindow('4c.html')">Module 4c</a></li>
      </ul>
    </details>

    <!-- ===== MODULE 5 ===== -->
    <details>
      <summary>Module 5</summary>
      <div class="hover-info">
        <div class="hover-block">
          <div class="hover-title">Grammar</div>
          Past perfect, Past continuous, Phrasal verbs (take), Compounds
        </div>
        <div class="hover-block">
          <div class="hover-title">Vocabulary</div>
          Animals, Noun formation (-ion, -ment)
        </div>
      </div>
      <ul>
        <li><a onclick="openNewWindow('5a.html')">Module 5a</a></li>
        <li><a onclick="openNewWindow('5b.html')">Module 5b</a></li>
        <li><a onclick="openNewWindow('5c.html')">Module 5c</a></li>
      </ul>
    </details>

    <!-- ===== MODULE 6 ===== -->
    <details>
      <summary>Module 6</summary>
      <div class="hover-info">
        <div class="hover-block">
          <div class="hover-title">Grammar</div>
          Future forms (will, be going to), Modal verbs, Phrasal verbs (break)
        </div>
        <div class="hover-block">
          <div class="hover-title">Vocabulary</div>
          Natural disasters, Geography, Weather terms
        </div>
      </div>
      <ul>
        <li><a onclick="openNewWindow('6a.html')">Module 6a</a></li>
        <li><a onclick="openNewWindow('6b.html')">Module 6b</a></li>
        <li><a onclick="openNewWindow('6c.html')">Module 6c</a></li>
      </ul>
    </details>

    <!-- ===== MODULE 7 ===== -->
    <details>
      <summary>Module 7</summary>
      <div class="hover-info">
        <div class="hover-block">
          <div class="hover-title">Grammar</div>
          Modal verbs for obligation & permission, Phrasal verbs (get)
        </div>
        <div class="hover-block">
          <div class="hover-title">Vocabulary</div>
          Health, Illness, First aid, Symptoms
        </div>
      </div>
      <ul>
        <li><a onclick="openNewWindow('7a.html')">Module 7a</a></li>
        <li><a onclick="openNewWindow('7b.html')">Module 7b</a></li>
        <li><a onclick="openNewWindow('7c.html')">Module 7c</a></li>
      </ul>
    </details>

    <!-- ===== MODULE 8 ===== -->
    <details>
      <summary>Module 8</summary>
      <div class="hover-info">
        <div class="hover-block">
          <div class="hover-title">Grammar</div>
          Gerunds & Infinitives, Phrasal verbs (bring), Linking words
        </div>
        <div class="hover-block">
          <div class="hover-title">Vocabulary</div>
          Hobbies, Leisure, Free-time activities
        </div>
      </div>
      <ul>
        <li><a onclick="openNewWindow('8a.html')">Module 8a</a></li>
        <li><a onclick="openNewWindow('8b.html')">Module 8b</a></li>
        <li><a onclick="openNewWindow('8c.html')">Module 8c</a></li>
      </ul>
    </details>

    <!-- ===== MODULE 9 ===== -->
    <details>
      <summary>Module 9</summary>
      <div class="hover-info">
        <div class="hover-block">
          <div class="hover-title">Grammar</div>
          Passive voice, Relative clauses, Phrasal verbs (look)
        </div>
        <div class="hover-block">
          <div class="hover-title">Vocabulary</div>
          Technology, Media, Communication
        </div>
      </div>
      <ul>
        <li><a onclick="openNewWindow('9a.html')">Module 9a</a></li>
        <li><a onclick="openNewWindow('9b.html')">Module 9b</a></li>
        <li><a onclick="openNewWindow('9c.html')">Module 9c</a></li>
      </ul>
    </details>

    <!-- ===== MODULE 10 ===== -->
    <details>
      <summary>Module 10</summary>
      <div class="hover-info">
        <div class="hover-block">
          <div class="hover-title">Grammar</div>
          Reported speech, Conditionals, Phrasal verbs (bring)
        </div>
        <div class="hover-block">
          <div class="hover-title">Vocabulary</div>
          Environment, Global issues, Solutions
        </div>
      </div>
      <ul>
        <li><a onclick="openNewWindow('10a.html')">Module 10a</a></li>
        <li><a onclick="openNewWindow('10b.html')">Module 10b</a></li>
        <li><a onclick="openNewWindow('10c.html')">Module 10c</a></li>
      </ul>
    </details>

  </section>

</main>

<div class="notification" id="notification">
  Đang mở cửa sổ mới...
</div>

<footer>
  © Access 4 – Internal Learning System
</footer>

<script>
  // CHỈ MỞ 1 MODULE 1 LẦN
  const modules = document.querySelectorAll("details");
  modules.forEach(m => {
    m.addEventListener("toggle", () => {
      if (m.open) {
        modules.forEach(o => { if (o !== m) o.removeAttribute("open"); });
      }
    });
  });

  // HÀM MỞ CỬA SỔ MỚI
  function openNewWindow(url) {
    // Kiểm tra xem file có tồn tại không (trong thực tế bạn có thể dùng fetch)
    const windowFeatures = "width=1200,height=700,resizable=yes,scrollbars=yes";
    
    // Thử mở cửa sổ mới
    const newWindow = window.open(url, "_blank", windowFeatures);
    
    // Nếu browser chặn popup
    if (!newWindow) {
      alert("Trình duyệt đang chặn popup. Vui lòng cho phép popup để mở bài học.");
      return;
    }
    
    // Focus vào cửa sổ mới
    newWindow.focus();
    
    // Hiện thông báo
    const notification = document.getElementById("notification");
    notification.textContent = "Đã mở bài học trong cửa sổ mới";
    notification.classList.add("show");
    
    // Ẩn thông báo sau 3 giây
    setTimeout(() => {
      notification.classList.remove("show");
    }, 3000);
  }

  // Thêm sự kiện click cho tất cả các link
  document.querySelectorAll('a').forEach(link => {
    // Lưu href gốc
    const originalHref = link.getAttribute('href');
    if (originalHref && originalHref.endsWith('.html')) {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        openNewWindow(originalHref);
      });
    }
  });
</script>

</body>
</html>
